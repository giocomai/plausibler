<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Access Plausible Analytics API • plausibler</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Access Plausible Analytics API">
<meta name="description" content="Access Plausible Analytics API.">
<meta property="og:description" content="Access Plausible Analytics API.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">plausibler</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.7.9003</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="plausibler">plausibler<a class="anchor" aria-label="anchor" href="#plausibler"></a>
</h1></div>
<!-- badges: start -->
<!-- badges: end -->
<p><code>plausibler</code> is a wrapper for the R programming language to the <a href="https://plausible.io/" class="external-link">Plausible Analytics</a> API. It facilitates making queries, and getting tidy data frames in return.</p>
<p>See the <a href="https://plausible.io/docs/stats-api" class="external-link">Plausible Analytics API documentation</a> for more details on the API, the endpoints, etc.</p>
<div class="section level2">
<h2 id="preliminary-notice-on-api-versions">Preliminary notice on API versions<a class="anchor" aria-label="anchor" href="#preliminary-notice-on-api-versions"></a>
</h2>
<p>This package has originally been built targeting the Plausible API version 1. Most documentation on <a href="https://plausible.io/docs/stats-api" class="external-link">Plausible’s website</a> refers to API version 2. A set of new functions are being introduced to facilitate interactions with API v2, in particular <code><a href="reference/pa2_get.html">pa2_get()</a></code> and <code><a href="reference/pa2_df.html">pa2_df()</a></code>. See relevant examples and documentations for each of these functions. More structured documentation and examples workflows will be added in due time.</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install <code>plausibler</code> from <a href="https://giocomai.r-universe.dev/plausibler" class="external-link">r-universe</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">'plausibler'</span>, repos <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'https://giocomai.r-universe.dev'</span>, <span class="st">'https://cloud.r-project.org'</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Or from GitHub with:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"giocomai/plausibler"</span><span class="op">)</span></span></code></pre></div>
<p>To facilitate interactive use and auto-complete, each function starts with “pa_” (for “Plausible Analytics”) followed by a verb describing what the function does.</p>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<p>At the beginning of each session, you will need to set the base url of your Plausible Analytics instance (if not self-hosted, <a href="https://plausible.io/" class="external-link uri">https://plausible.io/</a>), your <code>site_id</code> (the domain of your website), and your API key.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/pa_set.html">pa_set</a></span><span class="op">(</span></span>
<span>  base_url <span class="op">=</span> <span class="st">"https://plausible.io/"</span>,</span>
<span>  site_id <span class="op">=</span> <span class="st">"example.com"</span>,</span>
<span>  key <span class="op">=</span> <span class="st">"actual_key_here"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>You have then three main options to get data from the API.</p>
<p>If you know exactly your query, you can just go with it. You can e.g. see your monthly stats for the last six months with:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/pa_get.html">pa_get</a></span><span class="op">(</span>full_url <span class="op">=</span> <span class="st">"https://plausible.io/api/v1/stats/timeseries?site_id=$SITE_ID&amp;period=6mo"</span><span class="op">)</span></span></code></pre></div>
<p>Keep in mind that you will still need to set the key with <code><a href="reference/pa_set.html">pa_set()</a></code>. Replace $SITE_ID with your domain in this example, or check out the <a href="https://plausible.io/docs/stats-api" class="external-link">official API documentation</a> for many more examples.</p>
<p>If you prefer to stick to a syntax closer to what you would typically use in R, you can achieve the same as above with the following:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/pa_get.html">pa_get</a></span><span class="op">(</span></span>
<span>  endpoint <span class="op">=</span> <span class="st">"/api/v1/stats/timeseries"</span>,</span>
<span>  parameters <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>period <span class="op">=</span> <span class="st">"6mo"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Finally, you can use wrapper functions, so you don’t need to remember the endpoint. Here are some example for time series data:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/pa_get_timeseries.html">pa_get_timeseries</a></span><span class="op">(</span>period <span class="op">=</span> <span class="st">"6mo"</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/pa_get_timeseries.html">pa_get_timeseries</a></span><span class="op">(</span>period <span class="op">=</span> <span class="st">"30d"</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/pa_get_timeseries.html">pa_get_timeseries</a></span><span class="op">(</span>period <span class="op">=</span> <span class="st">"custom&amp;date=2021-06-01,2021-06-07"</span><span class="op">)</span></span></code></pre></div>
<p>Here are some example for breakdown of stats:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/pa_get_breakdown.html">pa_get_breakdown</a></span><span class="op">(</span>period <span class="op">=</span> <span class="st">"30d"</span>, property <span class="op">=</span> <span class="st">"event:page"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># which is exactly the same as:</span></span>
<span><span class="fu"><a href="reference/pa_get_top_pages.html">pa_get_top_pages</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>If you are interested in more metrics, see:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/pa_get_breakdown.html">pa_get_breakdown</a></span><span class="op">(</span></span>
<span>  period <span class="op">=</span> <span class="st">"30d"</span>,</span>
<span>  property <span class="op">=</span> <span class="st">"event:page"</span>,</span>
<span>  metrics <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="st">"visitors"</span>,</span>
<span>    <span class="st">"pageviews"</span>,</span>
<span>    <span class="st">"bounce_rate"</span>,</span>
<span>    <span class="st">"visit_duration"</span></span>
<span>  <span class="op">)</span>,</span>
<span>  limit <span class="op">=</span> <span class="fl">1000</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Or, say, combining properties, metrics, and filters, to see the referrers for visits to a given page:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/pa_get_breakdown.html">pa_get_breakdown</a></span><span class="op">(</span></span>
<span>  period <span class="op">=</span> <span class="st">"6mo"</span>,</span>
<span>  property <span class="op">=</span> <span class="st">"visit:referrer"</span>,</span>
<span>  metrics <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="st">"visitors"</span>,</span>
<span>    <span class="st">"pageviews"</span>,</span>
<span>    <span class="st">"bounce_rate"</span>,</span>
<span>    <span class="st">"visit_duration"</span></span>
<span>  <span class="op">)</span>,</span>
<span>  limit <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  filters <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>`event:page` <span class="op">=</span> <span class="st">"/example/"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>It is possible to query for custom periods:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/pa_get_breakdown.html">pa_get_breakdown</a></span><span class="op">(</span></span>
<span>  period <span class="op">=</span> <span class="st">"custom&amp;date=2023-04-01,2023-06-30"</span>,</span>
<span>  property <span class="op">=</span> <span class="st">"event:page"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>It is also possible to get aggregate stats:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/pa_get_aggregate.html">pa_get_aggregate</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="breakdown-by-multiple-properties">Breakdown by multiple properties<a class="anchor" aria-label="anchor" href="#breakdown-by-multiple-properties"></a>
</h2>
<p>As breakdown by multiple properties has not been natively implemented in the API, <code>plausibler</code> offers a convenience function that tries to achieve the same result by repeated queries, iterating through each occurrence of a property on a given date.</p>
<p>The following should get the number of visitors from each source to each page on each date of the last week.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/pa_get_properties_by_date.html">pa_get_properties_by_date</a></span><span class="op">(</span></span>
<span>  property1 <span class="op">=</span> <span class="st">"visit:source"</span>,</span>
<span>  property2 <span class="op">=</span> <span class="st">"event:page"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Depending on the number of “sources” recorded, this is likely to be slow. In order to speed up the process and reduce load on the API, by default this function caches data in a SQLite database created within the current working directory. Only data for full days should be cached (i.e. it’s safer not to include the current date, even if this is not enforced).</p>
</div>
<div class="section level2">
<h2 id="future-development">Future development<a class="anchor" aria-label="anchor" href="#future-development"></a>
</h2>
<ul>
<li>more wrapper functions</li>
<li>maybe, more extensive local caching with sqlite</li>
<li>suggestions? Open an issue</li>
</ul>
</div>
</div>
  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing plausibler</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Giorgio Comai <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-0515-9542" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Giorgio Comai.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
